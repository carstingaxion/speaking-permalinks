{"version":3,"file":"index.js","mappings":"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","sources":["webpack://speaking-permalinks/./src/components/DynamicSlugGenerator.js","webpack://speaking-permalinks/./src/components/SlugGeneratorCore.js","webpack://speaking-permalinks/./src/hooks/use-taxonomy-data.js","webpack://speaking-permalinks/./src/utils/slug-generator.js","webpack://speaking-permalinks/./src/utils/template-parser.js","webpack://speaking-permalinks/./src/utils/value-formatter.js","webpack://speaking-permalinks/external window [\"wp\",\"coreData\"]","webpack://speaking-permalinks/external window [\"wp\",\"data\"]","webpack://speaking-permalinks/external window [\"wp\",\"date\"]","webpack://speaking-permalinks/external window [\"wp\",\"editor\"]","webpack://speaking-permalinks/external window [\"wp\",\"element\"]","webpack://speaking-permalinks/external window [\"wp\",\"plugins\"]","webpack://speaking-permalinks/external window \"ReactJSXRuntime\"","webpack://speaking-permalinks/webpack/bootstrap","webpack://speaking-permalinks/webpack/runtime/compat get default export","webpack://speaking-permalinks/webpack/runtime/define property getters","webpack://speaking-permalinks/webpack/runtime/hasOwnProperty shorthand","webpack://speaking-permalinks/webpack/runtime/make namespace object","webpack://speaking-permalinks/./src/index.js"],"sourcesContent":["import { useSelect } from '@wordpress/data';\nimport { store as editorStore } from '@wordpress/editor';\n\nimport { SlugGeneratorCore } from './SlugGeneratorCore';\n\n/**\n * Dynamic Slug Generator Plugin\n *\n * This plugin monitors post data changes and automatically generates slugs\n * based on the template defined in post type support configuration.\n *\n * Only renders when the current post type supports 'speaking-permalinks'.\n *\n * @return {Element|null} The SlugGeneratorCore component or null.\n */\nexport const DynamicSlugGenerator = () => {\n\tconst { postType, postId, hasSpeakingPermalinksSupport, template } =\n\t\tuseSelect( ( select ) => {\n\t\t\tconst editor = select( editorStore );\n\n\t\t\tif ( ! editor ) {\n\t\t\t\treturn {\n\t\t\t\t\tpostType: null,\n\t\t\t\t\tpostId: null,\n\t\t\t\t\thasSpeakingPermalinksSupport: false,\n\t\t\t\t\ttemplate: '',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tconst currentPostType = editor.getCurrentPostType();\n\t\t\tconst postTypeObject =\n\t\t\t\tselect( 'core' ).getPostType( currentPostType );\n\n\t\t\t// Check if post type supports speaking permalinks\n\t\t\tconst supports = postTypeObject?.supports || {};\n\t\t\tconst hasSpeakingPermalinks =\n\t\t\t\tsupports[ 'speaking-permalinks' ]?.[ 0 ] || false;\n\n\t\t\t// Get the template from post type support config\n\t\t\tlet templateValue = '';\n\t\t\tif ( hasSpeakingPermalinks ) {\n\t\t\t\ttemplateValue = hasSpeakingPermalinks.template;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tpostType: currentPostType,\n\t\t\t\tpostId: editor.getCurrentPostId(),\n\t\t\t\thasSpeakingPermalinksSupport: hasSpeakingPermalinks,\n\t\t\t\ttemplate: templateValue,\n\t\t\t};\n\t\t}, [] );\n\n\t// Only render if the post type supports speaking permalinks\n\tif ( ! hasSpeakingPermalinksSupport ) {\n\t\treturn null;\n\t}\n\n\t// Only render the core component when we have the required data\n\tif ( ! postType || ! postId || ! template ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<SlugGeneratorCore\n\t\t\tpostType={ postType }\n\t\t\tpostId={ postId }\n\t\t\ttemplate={ template }\n\t\t/>\n\t);\n};\n","import { useEffect, useRef, useMemo } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { useEntityProp } from '@wordpress/core-data';\nimport { store as editorStore } from '@wordpress/editor';\n\nimport {\n\tparseTemplateVariables,\n\textractRequiredFields,\n} from '../utils/template-parser';\nimport { generateSlugFromTemplate } from '../utils/slug-generator';\nimport { useTaxonomyData, useTaxonomyTerms } from '../hooks/use-taxonomy-data';\n\n/**\n * Slug Generator Core Component\n *\n * This component handles the actual slug generation logic.\n * It's only rendered when postType and postId are available.\n *\n * @param {Object} props          Component props.\n * @param {string} props.postType The post type.\n * @param {number} props.postId   The post ID.\n * @param {string} props.template The slug template.\n * @return {null} This component doesn't render anything.\n */\nexport const SlugGeneratorCore = ( { postType, postId, template } ) => {\n\t// Parse template to get all variables\n\tconst variables = useMemo(\n\t\t() => parseTemplateVariables( template ),\n\t\t[ template ]\n\t);\n\n\t// Extract required fields from variables\n\tconst {\n\t\tpostFields: postFieldsNeeded,\n\t\tmetaFields: metaFieldsNeeded,\n\t\ttaxonomySlugs: taxonomySlugsNeeded,\n\t} = useMemo( () => extractRequiredFields( variables ), [ variables ] );\n\n\t// Get all post data in one useSelect call\n\tconst postFieldValues = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEditedPostAttribute } = select( editorStore );\n\t\t\tconst values = {};\n\n\t\t\tpostFieldsNeeded.forEach( ( field ) => {\n\t\t\t\ttry {\n\t\t\t\t\tvalues[ field ] = getEditedPostAttribute( field );\n\t\t\t\t} catch ( error ) {\n\t\t\t\t\tvalues[ field ] = '';\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\treturn values;\n\t\t},\n\t\t[ postFieldsNeeded.join( ',' ), postType, postId ]\n\t);\n\n\t// Get meta fields\n\tconst [ meta ] = useEntityProp( 'postType', postType, 'meta', postId );\n\n\t// Get taxonomy data using custom hooks\n\tconst { taxonomyRestBases, taxonomyTermIds } = useTaxonomyData(\n\t\ttaxonomySlugsNeeded,\n\t\tpostType,\n\t\tpostId\n\t);\n\n\tconst taxonomyTerms = useTaxonomyTerms(\n\t\ttaxonomySlugsNeeded,\n\t\ttaxonomyTermIds\n\t);\n\n\t// Get the current slug for comparison\n\tconst [ currentSlug, setPostSlug ] = useEntityProp(\n\t\t'postType',\n\t\tpostType,\n\t\t'slug',\n\t\tpostId\n\t);\n\n\tconst lastGeneratedSlug = useRef( '' );\n\n\tuseEffect( () => {\n\t\t// Only generate slug if we have the necessary data\n\t\tif ( ! postId || ! template ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Check if template is just the default\n\t\tif ( template === '{title}' ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Debounce slug generation\n\t\tconst timeoutId = setTimeout( () => {\n\t\t\tconst generatedSlug = generateSlugFromTemplate(\n\t\t\t\ttemplate,\n\t\t\t\tvariables,\n\t\t\t\tpostFieldValues,\n\t\t\t\tmeta || {},\n\t\t\t\ttaxonomyTerms || {}\n\t\t\t);\n\n\t\t\t// Only update if the slug has changed and it's different from what we last generated\n\t\t\tif (\n\t\t\t\tgeneratedSlug &&\n\t\t\t\tgeneratedSlug !== currentSlug &&\n\t\t\t\tgeneratedSlug !== lastGeneratedSlug.current\n\t\t\t) {\n\t\t\t\tlastGeneratedSlug.current = generatedSlug;\n\t\t\t\tsetPostSlug( generatedSlug );\n\t\t\t}\n\t\t}, 200 );\n\n\t\treturn () => clearTimeout( timeoutId );\n\t}, [\n\t\tpostId,\n\t\ttemplate,\n\t\tJSON.stringify( postFieldValues ),\n\t\tJSON.stringify( meta ),\n\t\tJSON.stringify( taxonomyTermIds ),\n\t\tJSON.stringify( taxonomyTerms ),\n\t\tcurrentSlug,\n\t\tsetPostSlug,\n\t\tvariables,\n\t] );\n\n\treturn null;\n};\n","import { useMemo } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { store as editorStore } from '@wordpress/editor';\n\n/**\n * Custom hook to fetch taxonomy REST bases and term IDs.\n *\n * @param {Array}  taxonomySlugs Array of taxonomy slugs needed.\n * @param {string} postType      Current post type.\n * @param {number} postId        Current post ID.\n * @return {Object} Object containing taxonomyRestBases and taxonomyTermIds.\n */\nexport function useTaxonomyData( taxonomySlugs, postType, postId ) {\n\t// Get actual taxonomy REST bases from WordPress\n\tconst taxonomyRestBases = useSelect(\n\t\t( select ) => {\n\t\t\tconst restBases = {};\n\n\t\t\ttaxonomySlugs.forEach( ( taxonomySlug ) => {\n\t\t\t\tconst taxonomy = select( 'core' ).getTaxonomy( taxonomySlug );\n\n\t\t\t\tif ( taxonomy ) {\n\t\t\t\t\tconst restBase = taxonomy.rest_base || taxonomySlug;\n\t\t\t\t\trestBases[ taxonomySlug ] = restBase;\n\t\t\t\t} else {\n\t\t\t\t\trestBases[ taxonomySlug ] = taxonomySlug;\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\treturn restBases;\n\t\t},\n\t\t[ taxonomySlugs.join( ',' ) ]\n\t);\n\n\t// Memoize to prevent unnecessary re-renders\n\tconst memoizedRestBases = useMemo(\n\t\t() => taxonomyRestBases,\n\t\t[ JSON.stringify( taxonomyRestBases ) ]\n\t);\n\n\t// Get actual taxonomy term IDs from WordPress\n\tconst taxonomyTermIdsRaw = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEditedPostAttribute } = select( editorStore );\n\t\t\tconst ids = {};\n\n\t\t\ttaxonomySlugs.forEach( ( taxonomySlug ) => {\n\t\t\t\tconst restBase =\n\t\t\t\t\tmemoizedRestBases[ taxonomySlug ] || taxonomySlug;\n\t\t\t\ttry {\n\t\t\t\t\tconst termIds = getEditedPostAttribute( restBase );\n\t\t\t\t\tids[ taxonomySlug ] = termIds || [];\n\t\t\t\t} catch ( error ) {\n\t\t\t\t\tids[ taxonomySlug ] = [];\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\treturn ids;\n\t\t},\n\t\t[\n\t\t\ttaxonomySlugs.join( ',' ),\n\t\t\tJSON.stringify( memoizedRestBases ),\n\t\t\tpostType,\n\t\t\tpostId,\n\t\t]\n\t);\n\n\t// Memoize term IDs\n\tconst taxonomyTermIds = useMemo(\n\t\t() => taxonomyTermIdsRaw,\n\t\t[ JSON.stringify( taxonomyTermIdsRaw ) ]\n\t);\n\n\treturn { taxonomyRestBases: memoizedRestBases, taxonomyTermIds };\n}\n\n/**\n * Custom hook to fetch taxonomy term objects and format them as slugs.\n *\n * @param {Array}  taxonomySlugs   Array of taxonomy slugs needed.\n * @param {Object} taxonomyTermIds Object mapping taxonomy slugs to term ID arrays.\n * @return {Object} Object containing formatted taxonomy term slugs.\n */\nexport function useTaxonomyTerms( taxonomySlugs, taxonomyTermIds ) {\n\t// Get actual taxonomy terms from WordPress\n\tconst rawTaxonomyTerms = useSelect(\n\t\t( select ) => {\n\t\t\tconst terms = {};\n\n\t\t\ttaxonomySlugs.forEach( ( taxonomySlug ) => {\n\t\t\t\tconst ids = taxonomyTermIds[ taxonomySlug ];\n\n\t\t\t\tif ( ids && ids.length > 0 ) {\n\t\t\t\t\tconst termObjects = ids\n\t\t\t\t\t\t.map( ( id ) => {\n\t\t\t\t\t\t\tconst term = select( 'core' ).getEntityRecord(\n\t\t\t\t\t\t\t\t'taxonomy',\n\t\t\t\t\t\t\t\ttaxonomySlug,\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\treturn term;\n\t\t\t\t\t\t} )\n\t\t\t\t\t\t.filter( Boolean );\n\n\t\t\t\t\tif ( termObjects.length > 0 ) {\n\t\t\t\t\t\tconst slugs = termObjects.map( ( term ) => term.slug );\n\t\t\t\t\t\tterms[ taxonomySlug ] = slugs.join( '-' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\treturn terms;\n\t\t},\n\t\t[ JSON.stringify( taxonomyTermIds ), taxonomySlugs.join( ',' ) ]\n\t);\n\n\t// Memoize the taxonomy terms to prevent unnecessary re-renders\n\tconst taxonomyTerms = useMemo(\n\t\t() => rawTaxonomyTerms,\n\t\t[ JSON.stringify( rawTaxonomyTerms ) ]\n\t);\n\n\treturn taxonomyTerms;\n}\n","import { formatFieldValue } from './value-formatter.js';\n\n/**\n * Sanitize a slug string according to WordPress standards.\n *\n * @param {string} slug The slug to sanitize.\n * @return {string} The sanitized slug.\n */\nexport function sanitizeSlug( slug ) {\n\t// Remove empty segments\n\tconst slugParts = slug\n\t\t.split( '-' )\n\t\t.filter( ( part ) => part.trim() !== '' );\n\n\tslug = slugParts.join( '-' );\n\n\t// Sanitize: lowercase, remove non-alphanumeric except hyphens, collapse multiple hyphens\n\tslug = slug\n\t\t.toLowerCase()\n\t\t.replace( /[^a-z0-9-]/g, '-' )\n\t\t.replace( /-+/g, '-' )\n\t\t.replace( /^-|-$/g, '' );\n\n\treturn slug;\n}\n\n/**\n * Generate slug from template using post data.\n *\n * @param {string} template      The slug template with variables.\n * @param {Array}  variables     Parsed variables from template.\n * @param {Object} postFields    Object containing post field values.\n * @param {Object} meta          Object containing meta field values.\n * @param {Object} taxonomyTerms Object containing taxonomy term slugs.\n * @return {string} The generated slug.\n */\nexport function generateSlugFromTemplate(\n\ttemplate,\n\tvariables,\n\tpostFields,\n\tmeta,\n\ttaxonomyTerms\n) {\n\tif ( ! template ) {\n\t\treturn '';\n\t}\n\n\t// Replace each variable in the template\n\tconst slug = template.replace( /\\{([^}]+)\\}/g, ( match, variable ) => {\n\t\t// Find the matching variable object\n\t\tconst varObj = variables.find( ( v ) => v.raw === variable );\n\n\t\tif ( ! varObj ) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif ( varObj.isTax ) {\n\t\t\t// Get taxonomy terms\n\t\t\tconst value =\n\t\t\t\ttaxonomyTerms && taxonomyTerms[ varObj.field ]\n\t\t\t\t\t? taxonomyTerms[ varObj.field ]\n\t\t\t\t\t: '';\n\t\t\treturn value;\n\t\t}\n\n\t\tif ( varObj.isMeta ) {\n\t\t\t// Get meta field value\n\t\t\tlet value =\n\t\t\t\tmeta && meta[ varObj.field ] !== undefined\n\t\t\t\t\t? meta[ varObj.field ]\n\t\t\t\t\t: '';\n\n\t\t\t// Handle array access if arrayKey is specified\n\t\t\tif ( varObj.arrayKey && value ) {\n\t\t\t\t// Check if value is an array or object\n\t\t\t\tif ( typeof value === 'object' && value !== null ) {\n\t\t\t\t\tvalue = value[ varObj.arrayKey ];\n\n\t\t\t\t\t// If still undefined or null after accessing array key, return empty\n\t\t\t\t\tif ( value === undefined || value === null ) {\n\t\t\t\t\t\treturn '';\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Value is not an array/object, can't access array key\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst formatted = formatFieldValue(\n\t\t\t\tvarObj.field,\n\t\t\t\tvalue,\n\t\t\t\tvarObj.format\n\t\t\t);\n\t\t\treturn formatted;\n\t\t}\n\n\t\t// Get post field value\n\t\tconst value = postFields[ varObj.field ];\n\t\tconst formatted = formatFieldValue(\n\t\t\tvarObj.field,\n\t\t\tvalue,\n\t\t\tvarObj.format\n\t\t);\n\t\treturn formatted;\n\t} );\n\n\treturn sanitizeSlug( slug );\n}\n","/**\n * Parse template and extract all variables with their formatting options.\n *\n * @param {string} template The slug template.\n * @return {Array} Array of variable objects with field, arrayKey, format, isMeta, and isTax properties.\n */\nexport function parseTemplateVariables( template ) {\n\tif ( ! template ) {\n\t\treturn [];\n\t}\n\n\tconst variables = [];\n\tconst regex = /\\{([^}]+)\\}/g;\n\tlet match;\n\n\twhile ( ( match = regex.exec( template ) ) !== null ) {\n\t\tconst variable = match[ 1 ];\n\n\t\t// Check if it's a meta field or taxonomy\n\t\tconst isMeta = variable.startsWith( 'meta:' );\n\t\tconst isTax = variable.startsWith( 'tax:' );\n\n\t\t// Remove prefix if present\n\t\tconst withoutPrefix = isMeta\n\t\t\t? variable.substring( 5 )\n\t\t\t: isTax\n\t\t\t? variable.substring( 4 )\n\t\t\t: variable;\n\n\t\t// Split by | to get field and format (format comes last)\n\t\tconst parts = withoutPrefix.split( '|' );\n\t\tconst format = parts.length > 1 ? parts[ parts.length - 1 ] : null;\n\n\t\t// The field part may contain array access notation (field:array_key)\n\t\tconst fieldPart = parts[ 0 ];\n\t\tconst fieldParts = fieldPart.split( ':' );\n\t\tconst field = fieldParts[ 0 ];\n\t\tconst arrayKey = fieldParts.length > 1 ? fieldParts[ 1 ] : null;\n\n\t\tvariables.push( {\n\t\t\tfield,\n\t\t\tarrayKey,\n\t\t\tformat,\n\t\t\tisMeta,\n\t\t\tisTax,\n\t\t\traw: variable,\n\t\t} );\n\t}\n\n\treturn variables;\n}\n\n/**\n * Extract unique fields needed from parsed variables.\n *\n * @param {Array} variables Parsed template variables.\n * @return {Object} Object containing postFields, metaFields, and taxonomySlugs arrays.\n */\nexport function extractRequiredFields( variables ) {\n\tconst postFields = [\n\t\t...new Set(\n\t\t\tvariables\n\t\t\t\t.filter( ( v ) => ! v.isMeta && ! v.isTax )\n\t\t\t\t.map( ( v ) => v.field )\n\t\t),\n\t];\n\n\tconst metaFields = [\n\t\t...new Set(\n\t\t\tvariables.filter( ( v ) => v.isMeta ).map( ( v ) => v.field )\n\t\t),\n\t];\n\n\tconst taxonomySlugs = [\n\t\t...new Set(\n\t\t\tvariables.filter( ( v ) => v.isTax ).map( ( v ) => v.field )\n\t\t),\n\t];\n\n\treturn { postFields, metaFields, taxonomySlugs };\n}\n","import { dateI18n } from '@wordpress/date';\n\n/**\n * Format a date value with the specified PHP date format.\n *\n * @param {string} rawValue The raw date value.\n * @param {string} format   The PHP date format string.\n * @return {string} The formatted date string.\n */\nexport function formatDateValue( rawValue, format ) {\n\tif ( ! rawValue ) {\n\t\treturn '';\n\t}\n\n\t// Try using WordPress's dateI18n first\n\tif ( format ) {\n\t\ttry {\n\t\t\treturn dateI18n( format, rawValue );\n\t\t} catch ( error ) {\n\t\t\t// Fallback to manual formatting\n\t\t}\n\t}\n\n\t// Manual date formatting fallback\n\ttry {\n\t\tconst date = new Date( rawValue );\n\t\tif ( isNaN( date.getTime() ) ) {\n\t\t\treturn '';\n\t\t}\n\n\t\tconst year = date.getFullYear();\n\t\tconst month = String( date.getMonth() + 1 ).padStart( 2, '0' );\n\t\tconst day = String( date.getDate() ).padStart( 2, '0' );\n\n\t\t// Handle common format patterns\n\t\tif ( format === 'Y-m-d' || ! format ) {\n\t\t\treturn `${ year }-${ month }-${ day }`;\n\t\t}\n\t\tif ( format === 'Y' ) {\n\t\t\treturn String( year );\n\t\t}\n\t\tif ( format === 'm' ) {\n\t\t\treturn month;\n\t\t}\n\t\tif ( format === 'd' ) {\n\t\t\treturn day;\n\t\t}\n\n\t\t// Default to Y-m-d\n\t\treturn `${ year }-${ month }-${ day }`;\n\t} catch ( error ) {\n\t\tconsole.error( '[Speaking Permalinks] Date formatting error:', error );\n\t\treturn '';\n\t}\n}\n\n/**\n * Extract raw value from WordPress entity property.\n *\n * @param {*} value The value to extract from.\n * @return {string} The extracted raw value.\n */\nexport function extractRawValue( value ) {\n\tif ( ! value ) {\n\t\treturn '';\n\t}\n\n\tif ( typeof value !== 'object' || value === null ) {\n\t\treturn String( value );\n\t}\n\n\tif ( value.raw !== undefined ) {\n\t\treturn value.raw;\n\t}\n\n\tif ( value.rendered !== undefined ) {\n\t\treturn String( value.rendered ).replace( /<[^>]*>/g, '' );\n\t}\n\n\treturn String( value );\n}\n\n/**\n * Apply text formatting to a string value.\n *\n * @param {string}      stringValue The string to format.\n * @param {string|null} format      The format type ('lower', 'upper', or null).\n * @return {string} The formatted string.\n */\nexport function applyTextFormatting( stringValue, format ) {\n\tif ( ! format ) {\n\t\treturn stringValue;\n\t}\n\n\tif ( format === 'lower' ) {\n\t\treturn stringValue.toLowerCase();\n\t}\n\n\tif ( format === 'upper' ) {\n\t\treturn stringValue.toUpperCase();\n\t}\n\n\treturn stringValue;\n}\n\n/**\n * Format a value based on the field type and format specification.\n *\n * @param {string}      field  The field name.\n * @param {*}           value  The field value.\n * @param {string|null} format The format specification (e.g., 'Y-m-d', 'lower').\n * @return {string} The formatted value.\n */\nexport function formatFieldValue( field, value, format ) {\n\tif ( ! value ) {\n\t\treturn '';\n\t}\n\n\t// Handle date fields specially\n\tif ( field === 'date' ) {\n\t\tconst rawValue = extractRawValue( value );\n\t\treturn formatDateValue( rawValue, format );\n\t}\n\n\t// For non-date fields, extract raw value and apply text formatting\n\tconst rawValue = extractRawValue( value );\n\treturn applyTextFormatting( rawValue, format );\n}\n","module.exports = window[\"wp\"][\"coreData\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"date\"];","module.exports = window[\"wp\"][\"editor\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"plugins\"];","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Check if module exists (development only)\n\tif (__webpack_modules__[moduleId] === undefined) {\n\t\tvar e = new Error(\"Cannot find module '\" + moduleId + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { registerPlugin } from '@wordpress/plugins';\n\nimport { DynamicSlugGenerator } from './components/DynamicSlugGenerator';\n\n/**\n * Register the Speaking Permalinks Plugin\n */\nregisterPlugin( 'speaking-permalinks', {\n\trender: DynamicSlugGenerator,\n} );\n"],"names":["useSelect","store","editorStore","SlugGeneratorCore","jsx","_jsx","DynamicSlugGenerator","postType","postId","hasSpeakingPermalinksSupport","template","select","editor","currentPostType","getCurrentPostType","postTypeObject","getPostType","supports","hasSpeakingPermalinks","templateValue","getCurrentPostId","useEffect","useRef","useMemo","useEntityProp","parseTemplateVariables","extractRequiredFields","generateSlugFromTemplate","useTaxonomyData","useTaxonomyTerms","variables","postFields","postFieldsNeeded","metaFields","metaFieldsNeeded","taxonomySlugs","taxonomySlugsNeeded","postFieldValues","getEditedPostAttribute","values","forEach","field","error","join","meta","taxonomyRestBases","taxonomyTermIds","taxonomyTerms","currentSlug","setPostSlug","lastGeneratedSlug","timeoutId","setTimeout","generatedSlug","current","clearTimeout","JSON","stringify","restBases","taxonomySlug","taxonomy","getTaxonomy","restBase","rest_base","memoizedRestBases","taxonomyTermIdsRaw","ids","termIds","rawTaxonomyTerms","terms","length","termObjects","map","id","term","getEntityRecord","filter","Boolean","slugs","slug","formatFieldValue","sanitizeSlug","slugParts","split","part","trim","toLowerCase","replace","match","variable","varObj","find","v","raw","isTax","value","isMeta","undefined","arrayKey","formatted","format","regex","exec","startsWith","withoutPrefix","substring","parts","fieldPart","fieldParts","push","Set","dateI18n","formatDateValue","rawValue","date","Date","isNaN","getTime","year","getFullYear","month","String","getMonth","padStart","day","getDate","console","extractRawValue","rendered","applyTextFormatting","stringValue","toUpperCase","registerPlugin","render"],"ignoreList":[],"sourceRoot":""}